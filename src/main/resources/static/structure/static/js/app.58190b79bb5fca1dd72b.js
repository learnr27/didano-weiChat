webpackJsonp([20],{122:function(t,n,e){"use strict";var a=e(56),i=e(173),o=e(218),s=e(213),c=e(217),r=e(215),u=e(214),d=e(216);a.a.use(i.b),n.a=new i.b.Store({state:o.a,getters:s.a,mutations:c.a,modules:{teacher:r.a,principal:u.a,pickertime:d.a}})},131:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return o});var a={isShow:!0,message:"加载中",state:"loading"},i={isShow:!1,state:"success"},o=function(t){return{isShow:!0,state:"error",message:t.data?t.data.message:"网络错误"}}},174:function(t,n,e){"use strict";var a=e(56),i=e(465),o=e(122),s=e(469),c=e.n(s);a.a.use(i.a);var r=new i.a({routes:[{path:"/",redirect:"/role"},{path:"/role",name:"role",component:c.a},{path:"/bind",name:"bind",component:function(){return e.e(15).then(e.bind(null,473))}},{path:"/verify",name:"verify",component:function(){return e.e(11).then(e.bind(null,489))}},{path:"/bindChooseRole",name:"verify",component:function(){return e.e(17).then(e.bind(null,474))}},{path:"/mailContent",name:"mailContent",component:function(){return e.e(18).then(e.bind(null,472))}},{path:"/mailboxList",name:"mailboxList",component:function(){return e.e(0).then(e.bind(null,191))}},{path:"/parent",name:"parent",component:function(){return e.e(14).then(e.bind(null,476))},children:[{path:"/parent/",redirect:"parentIndex"},{path:"/parent/parentIndex",name:"parentIndex",component:function(){return e.e(10).then(e.bind(null,475))}},{path:"/parent/report",name:"report",component:function(){return e.e(16).then(e.bind(null,477))}}]},{path:"/principal",name:"principal",component:function(){return e.e(13).then(e.bind(null,483))},children:[{path:"/principal/",redirect:"principalIndex"},{path:"/principal/principalIndex",name:"principalIndex",component:function(){return e.e(9).then(e.bind(null,482))}},{path:"/principal/mailboxList",name:"mailboxList",component:function(){return e.e(0).then(e.bind(null,191))}},{path:"/principal/attendance",component:function(){return e.e(3).then(e.bind(null,479))},children:[{path:"",name:"PrincipalAttendance",component:function(){return e.e(4).then(e.bind(null,478))}},{path:"studentList",name:"PrincipalStudentList",component:function(){return e.e(7).then(e.bind(null,480))}},{path:"teacherList",name:"PrincipalTeacherList",component:function(){return e.e(6).then(e.bind(null,481))}}]}]},{path:"/teacher",name:"teacher",component:function(){return e.e(12).then(e.bind(null,488))},children:[{path:"/teacher/",redirect:"teacherIndex"},{path:"/teacher/teacherIndex",name:"teacherIndex",component:function(){return e.e(8).then(e.bind(null,487))}},{path:"/teacher/attendance",component:function(){return e.e(2).then(e.bind(null,485))},children:[{path:"",name:"TeacherAttendance",component:function(){return e.e(1).then(e.bind(null,484))}},{path:"studentList",name:"TeacherStudentList",component:function(){return e.e(5).then(e.bind(null,486))}}]}]}]});r.beforeEach(function(t,n,e){o.a.commit("changeLoading",!0),e()}),r.afterEach(function(t){setTimeout(function(){o.a.commit("changeLoading",!1)},100)}),n.a=r},179:function(t,n){},183:function(t,n,e){e(448);var a=e(35)(e(222),e(458),null,null);t.exports=a.exports},184:function(t,n,e){e(450);var a=e(35)(e(223),e(460),null,null);t.exports=a.exports},186:function(t,n,e){e(454);var a=e(35)(e(224),e(464),null,null);t.exports=a.exports},190:function(t,n,e){e(449);var a=e(35)(e(221),e(459),null,null);t.exports=a.exports},210:function(t,n,e){"use strict";var a=e(56);n.a={SchoolAttendanceFindtByschoolId:function(t,n,e){var i=WX_URL+"/base/attendanc/post/schoolAttendance_findtByschoolId/"+t.schoolId+"/"+t.date;a.a.http.post(i).then(function(t){return n(t)}).catch(function(t){return e(t)})},StaffAttendanceFindtBySchool:function(t,n,e){var i=WX_URL+"/base/attendanc/post/staffAttendance_findtBySchool/"+t.schoolId+"/"+t.date;a.a.http.post(i).then(function(t){return n(t)}).catch(function(t){return e(t)})},StudentAttendanceFindtBySchool:function(t,n,e){var i=WX_URL+"/base/attendanc/post/studentAttendance_findtBySchool/"+t.schoolId+"/"+t.date;a.a.http.post(i).then(function(t){return n(t)}).catch(function(t){return e(t)})}}},211:function(t,n,e){"use strict";var a=e(56);n.a={ClassAttendanceFindtByTeacher:function(t,n,e){var i=WX_URL+"/base/attendanc/post/classAttendance_findtByTeacher/"+t.staffId+"/"+t.date;a.a.http.post(i).then(function(t){return n(t)}).catch(function(t){return e(t)})},StudentAttendanceFindtByClass:function(t,n,e){var i=WX_URL+"/base/attendanc/post/studentAttendance_findtByClass/"+t.classId+"/"+t.date;a.a.http.post(i).then(function(t){return n(t)}).catch(function(t){return e(t)})}}},212:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(178),i=e.n(a),o=e(177),s=(e.n(o),e(56)),c=e(180),r=e.n(c),u=e(183),d=e.n(u),l=e(174),h=e(122),f=e(175),p=e(176),m=e(181),g=e.n(m),v=e(182),w=(e.n(v),e(179));e.n(w);s.a.use(g.a,{name:"v-touch"}),s.a.use(f.a),s.a.use(p.a),e.i(v.sync)(h.a,l.a),s.a.http.interceptors.response.use(function(t){return t.data.success?t:i.a.reject(t)},function(t){return i.a.reject(t)}),r.a.attach(document.body),s.a.config.productionTip=!1,new s.a({router:l.a,store:h.a,render:function(t){return t(d.a)}}).$mount("#app-box")},213:function(t,n,e){"use strict";n.a={getLingLoading:function(t){return t.lingLoading},getIsLoading:function(t){return t.isLoading}}},214:function(t,n,e){"use strict";var a=e(210),i=e(131),o={schoolAttendance:{},staffAttendance:{},studentAttendance:{},classesShowContent:[],identity:{31:"园长",32:"老师",33:"医生",34:"后勤",35:"行政",99:"其他"}},s={getSchoolAttendance:function(t){return t.schoolAttendance},getStaffAttendance:function(t){return t.staffAttendance},getStudentAttendanceBySchool:function(t){return t.studentAttendance},getClassesShowContent:function(t){return t.classesShowContent},getIdentity:function(t){return t.identity}},c={actionSchoolAttendance:function(t,n){t.commit("changeLingLoading",i.a),a.a.SchoolAttendanceFindtByschoolId(n,function(n){t.commit("changeLingLoading",i.b),t.commit("mutationSchoolAttendance",n.data.data)},function(n){setTimeout(function(){t.commit("changeLingLoading",e.i(i.c)(n))},200)})},actionStaffAttendance:function(t,n){t.commit("changeLingLoading",i.a),a.a.StaffAttendanceFindtBySchool(n,function(n){t.commit("changeLingLoading",i.b),t.commit("mutationStaffAttendance",n.data.data)},function(n){setTimeout(function(){t.commit("changeLingLoading",e.i(i.c)(n))},200)})},actionStudentAttendanceBySchool:function(t,n){t.commit("changeLingLoading",i.a),a.a.StudentAttendanceFindtBySchool(n,function(n){t.commit("changeLingLoading",i.b),t.commit("mutationStudentAttendance",n.data.data)},function(n){setTimeout(function(){t.commit("changeLingLoading",e.i(i.c)(n))},200)})}},r={mutationSchoolAttendance:function(t,n){t.schoolAttendance=n},mutationStaffAttendance:function(t,n){t.staffAttendance=n},mutationClassesShowContent:function(t,n){t.classesShowContent=n},mutationStudentAttendance:function(t,n){t.studentAttendance=n}};n.a={state:o,getters:s,actions:c,mutations:r}},215:function(t,n,e){"use strict";var a=e(211),i=e(131),o={teacherAttendance:{allNum:0,arriveNum:0,classId:0,noArriveNum:0},studentAttendance:{},teacherAttendanceType:[{state:"迟到",color:"#ff0000"},{state:"早退",color:"#00ffff"},{state:"缺勤",color:"#23fe23"}],teacherAttendanceColor:{1:"#ff0000",2:"#00ffff",3:"#23fe23"}},s={getTeacherAttendance:function(t){return t.teacherAttendance},getStudentAttendance:function(t){return t.studentAttendance},getTeacherAttendanceType:function(t){return t.teacherAttendanceType},getTeacherAttendanceColor:function(t){return t.teacherAttendanceColor}},c={actionTeacherAttendance:function(t,n){t.commit("changeLingLoading",i.a),a.a.ClassAttendanceFindtByTeacher(n,function(n){t.commit("changeLingLoading",i.b),t.commit("mutationTeacherAttendance",n.data.data)},function(n){setTimeout(function(){t.commit("changeLingLoading",e.i(i.c)(n))},200)})},actionStudentAttendance:function(t,n){t.commit("changeLingLoading",i.a),a.a.StudentAttendanceFindtByClass(n,function(n){t.commit("changeLingLoading",i.b),t.commit("mutationStudentAttendance",n.data.data)},function(n){setTimeout(function(){t.commit("changeLingLoading",e.i(i.c)(n))},200)})}},r={mutationTeacherAttendance:function(t,n){t.teacherAttendance=n},mutationStudentAttendance:function(t,n){t.studentAttendance=n}};n.a={state:o,getters:s,actions:c,mutations:r}},216:function(t,n,e){"use strict";var a={years:[],months:[],days:[]},i={getYears:function(t){return t.years},getMonths:function(t){return t.months},getDays:function(t){return t.days}},o={},s={mutationYears:function(t,n){t.years=n},mutationMonths:function(t,n){t.months=n},mutationDays:function(t,n){t.days=n}};n.a={state:a,getters:i,actions:o,mutations:s}},217:function(t,n,e){"use strict";var a=e(123),i=e.n(a);n.a={changeLingLoading:function(t,n){t.lingLoading=i()({},t.lingLoading,n)},changeLoading:function(t,n){t.isLoading=n}}},218:function(t,n,e){"use strict";n.a={lingLoading:{isShow:!0,message:"加载中",state:"loading"},isLoading:!0}},219:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String,backgroundColor:String},methods:{getStyle:function(){if(!this.showLoading&&this.tip)return{"background-color":this.backgroundColor}}}}},220:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"loading",props:{value:{type:Boolean,default:!1},text:String,position:String,transition:{type:String,default:"vux-mask"}},created:function(){this.show=this.value},data:function(){return{show:!1}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t)}}}},221:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(227);n.default={name:"toast",mixins:[a.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var n=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.show=!1,n.$emit("input",!1),n.$emit("on-hide"),n.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}},222:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(123),i=e.n(a),o=e(468),s=e.n(o),c=e(173);n.default={name:"app",components:{Loading:s.a},computed:i()({},e.i(c.a)({getIsLoading:"getIsLoading"}))}},223:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(467),i=e.n(a);n.default={name:"LingLoading",components:{LoadMore:i.a},props:{state:{type:Object,require:!0},click:{type:Function}},methods:{handleClick:function(){"error"==this.state.state&&this.click&&this.click()}}}},224:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:{titleContent:{String:String}}}},225:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(187),i=e.n(a),o=e(186),s=e.n(o),c=e(184),r=e.n(c);n.default={data:function(){return{roleList:[],titleContent:"选择角色",state:{isShow:!0,message:"加载中",state:"loading"}}},created:function(){this.classMap=["/super","/org","/school","/parent","/principal","/teacher","/doctor","/service","/assistant"],this._initRoleList()},methods:{_initRoleList:function(){var t=this;this.$http.get(WX_URL+"base/login/getRoleSelect/"+openid).then(function(n){n=n.data,n.success&&n.code<2e3?(t.state.isShow=!1,t.roleList=n.data,1===t.roleList.length&&(localStorage.setItem("USERLIST",i()(t.roleList[0])),t.goToIndex(t.roleList[0].roleType))):n.code>2e3&&(window.location.href="http://test.xiaonuo.cn/wx/?c=bind&a=bindStudent")},function(n){t.state.state="error",t.state.message="网络错误"})},goToIndex:function(t){this.$router.push(this.classMap[t-27])},selectRole:function(t){localStorage.setItem("USERLIST",i()(t))},fetchData:function(){this._initRoleList()}},components:{"v-header":s.a,LingLoading:r.a}}},448:function(t,n){},449:function(t,n){},450:function(t,n){},451:function(t,n){},452:function(t,n){},453:function(t,n){},454:function(t,n){},458:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view"),t._v(" "),e("div",[e("loading",{attrs:{show:t.getIsLoading,"background-color":"#a9a9a9",text:"跳转中"}})],1)],1)},staticRenderFns:[]}},459:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"vux-toast"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),e("transition",{attrs:{name:t.currentTransition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[e("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?e("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):e("p",{staticClass:"weui-toast__content"},[t._t("default")],2)])])],1)},staticRenderFns:[]}},460:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.state.isShow?e("div",{staticClass:"ling-loading"},[e("v-touch",{on:{tap:t.handleClick}},[e("load-more",{attrs:{"show-loading":"loading"==t.state.state,tip:t.state.message}})],1)],1):t._e()},staticRenderFns:[]}},461:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:t.transition}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading"},[e("div",{staticClass:"weui-mask_transparent"}),t._v(" "),e("div",{staticClass:"weui-toast",style:{position:t.position}},[e("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),e("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2)])])])},staticRenderFns:[]}},462:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.roleList.length>1,expression:"roleList.length > 1"}],staticClass:"role"},[e("v-header",{attrs:{titleContent:t.titleContent}}),t._v(" "),e("div",{staticClass:"role-wrapper"},[e("ul",t._l(t.roleList,function(n,a){return e("router-link",{key:1,attrs:{to:t.classMap[n.roleType-27]}},[e("li",{staticClass:"role-item",on:{click:function(e){t.selectRole(n)}}},[t._v(t._s(n.roleName))])])})),t._v(" "),e("ling-loading",{attrs:{click:t.fetchData,state:t.state}})],1)],1)},staticRenderFns:[]}},463:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"weui-loadmore",class:{"weui-loadmore_line":!t.showLoading,"weui-loadmore_dot":!t.showLoading&&!t.tip}},[t.showLoading?e("i",{staticClass:"weui-loading"}):t._e(),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.tip||!t.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips",style:t.getStyle()},[t._v(t._s(t.tip))])])},staticRenderFns:[]}},464:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{staticClass:"header-title"},[t._v("\n  "+t._s(t.titleContent)+"\n")])},staticRenderFns:[]}},467:function(t,n,e){e(453);var a=e(35)(e(219),e(463),null,null);t.exports=a.exports},468:function(t,n,e){e(451);var a=e(35)(e(220),e(461),null,null);t.exports=a.exports},469:function(t,n,e){e(452);var a=e(35)(e(225),e(462),null,null);t.exports=a.exports}},[212]);
//# sourceMappingURL=app.58190b79bb5fca1dd72b.js.map